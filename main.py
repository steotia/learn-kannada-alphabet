namespace SpriteKind {
    export const UI = SpriteKind.create()
}
function IntroduceGame () {
    game.splash("Learn by playing!")
    game.showLongText("Welcome to the Kannada rapid fire game.", DialogLayout.Bottom)
    game.showLongText("A Kannada letter will come on top and you have to give the correct answer by clicking A or B.", DialogLayout.Bottom)
    game.showLongText("If your answer is correct you will get 1 point and if it is incorrect you will lose a life.", DialogLayout.Bottom)
    game.showLongText("You have 60 seconds to achieve a high score. ALL THE BEST!", DialogLayout.Bottom)
    while (!(controller.A.isPressed())) {
        game.splash("Press A to start!")
    }
    game_started = true
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (game_started) {
        if (question_asked) {
            check_answer(1)
            mySprite2.destroy()
            answer.destroy()
            wrong_answer.destroy()
            scene.cameraShake(4, 100)
        }
        answer_position = randint(0, 1)
        random_number = randint(0, 3)
        other_random_number = randint(0, 3)
        while (random_number == other_random_number) {
            random_number = randint(0, 3)
        }
        askQuestion(random_number, answer_position, other_random_number)
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (game_started) {
        if (question_asked) {
            check_answer(1)
            mySprite2.destroy()
            answer.destroy()
            wrong_answer.destroy()
            scene.cameraShake(4, 100)
        }
        answer_position = randint(0, 1)
        random_number = randint(0, 3)
        other_random_number = randint(0, 3)
        while (random_number == other_random_number) {
            random_number = randint(0, 3)
        }
        askQuestion(random_number, answer_position, other_random_number)
    }
})
info.onCountdownEnd(function () {
    game.over(true)
})
info.onLifeZero(function () {
    game.over(true)
})
function check_answer (button: number) {
    game.splash(answer_position)
    if (button == 0) {
        info.changeScoreBy(1)
    } else {
        info.changeLifeBy(-1)
    }
    question_asked = false
}
function initImages () {
    questions = [img`
        ................................
        ................................
        .........11111..................
        ........11....1.................
        .......11.....1.................
        .......1......1.................
        ......1.....11....111111........
        ......1....11....11....11.......
        ......1..........1......11......
        ......1..........1.......1......
        ......11.........1.......1......
        .......1......11111......1......
        .......11....11..........1......
        ........11...............1......
        .........11.............11......
        ..........111.........11........
        .............1111111111.........
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        .................111............
        ....1111........11.11...........
        ...11..11.......1...1...........
        ...1....1.......1...1...........
        ...1....1..1111111111...........
        ...11...1.......1...............
        ....1..11.......1...............
        ....1...........1...............
        ....11..........1...............
        .....1..........1...............
        .....11........11...............
        ......11......11................
        .......11111111.................
        ............1...................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...........11.11................
        ..........1..1..1...............
        .........1...1...1..............
        .........1...1..11..............
        .........1...1..11..............
        ..................1.............
        ...................1............
        ....................1...........
        .....................1..........
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ................................
        ................................
        ...............1................
        ...............1................
        ..............11................
        ........111111..................
        ........111111..................
        .......11....11...111111........
        ......11......11..1....1........
        ......1........1..1....1........
        ....11111111111111111111........
        ......1........1..1.............
        ......1........1..1.............
        ......11......11..1.............
        .......11111111...1.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `]
    answers = [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        .............fff................
        ............ff.f................
        ...........f...f................
        ..........ff...f................
        ..........f....f................
        .........ff....f................
        .........f....ff................
        .........f....ff................
        .........f...fff....f...........
        .........f..ff.fffff............
        .........fff....................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ................................
        ................................
        ................................
        .......fff......................
        .....fffff...........fff........
        .....f...fff........f.fffff.....
        ....f......ff......ff.....ff....
        ....f.......f......f........f...
        ...f........ff.....f........f...
        ...f.........f....ff.........f..
        ..ff.........f....f..........f..
        ..ff........ff....ff........ff..
        ..ff........ff.....f........ff..
        ....f......ffff....f.......ff...
        .....ffffff...ff....ff....ffff..
        ................ff...ffffff..ff.
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ...........fffffff..............
        .........ff......fff............
        .........f.........f............
        .........f.........f............
        .........f.........f............
        .........ff........f............
        .........ff........f............
        .........ffff.....ff............
        .........f..fffffff.............
        .........f......................
        .........f......................
        .........f......................
        .........f............f.........
        .........f...........ff.........
        .........ff..........f..........
        ..........f.........ff..........
        ...........ff.....fff...........
        .............ffffff.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ................................
        ................................
        ........ffffff..................
        .......ff.....ff................
        ......ff.......ff...ffff........
        ......f.........f..ff..fff......
        ......f.........f.f......ff.....
        .....ff........ff.f.......f.....
        .....fffffffffff.ff.......f.....
        .....f...........f.......ff.....
        ......f..........ffffffff.......
        ......f..........ff.............
        ......f...........f.............
        .......f..........f.............
        .......ff.........ff............
        ........ff.........f............
        .........fff........ff..........
        ...........fffff.....f..........
        ......................fff..ff...
        .........................fff....
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `]
}
function askQuestion (num: number, position: number, wrong_num: number) {
    mySprite2 = sprites.create(questions[num], SpriteKind.UI)
    mySprite2.setPosition(80, 30)
    answer = sprites.create(answers[num], SpriteKind.UI)
    wrong_answer = sprites.create(answers[wrong_num], SpriteKind.UI)
    if (position == 0) {
        answer.setPosition(37, 95)
        wrong_answer.setPosition(120, 95)
    } else {
        wrong_answer.setPosition(37, 95)
        answer.setPosition(120, 95)
    }
    question_asked = true
}
let answers: Image[] = []
let questions: Image[] = []
let other_random_number = 0
let random_number = 0
let answer_position = ""
let wrong_answer: Sprite = null
let answer: Sprite = null
let mySprite2: Sprite = null
let question_asked = false
let game_started = false
IntroduceGame()
tiles.setTilemap(tilemap`level2`)
info.setScore(0)
info.setLife(3)
initImages()
info.startCountdown(60)
